# ridge_example
Example for https://www.kaggle.com/c/house-prices-advanced-regression-techniques/overview

Накатал простое решение задачи оценки стоимости дома по кегловскому соревнованию.

При решении задачи ставил перед собой две цели:
1) решение должно быть достаточно простым и легко реализуемым на бою
2) должно вписаться в топ 50% по точности среди участников соревнования

Основой решения выбрал линейную регрессию, тк это наиболее легко имплементируемый метод. 
Достаточно просто сохранить коэффициенты, полученные при обучении модели, чтобы использовать в любом приложении.
Выбрал не голую линейную регрессию, а алгоритм Риджа, т.к. он позволяет контролировать коэффициенты и не допускать переобучения.

При решении задачи исходил из того, что стоимость частного дома (а именно их мы здесь оцениваем) складывается из 3 основных составляющих:
1) стоимость непосредственно дома. Ее я вижу как площадь дома * стоимость квадрата. Стоимость квадрата в свою очередь зависит от
возраста дома, материала, этажности, состояния и тп.
2) стоимость участка. Она в свою очередь так же определяется через площадь * стоимость квадрата. Стоимость главным образом зависит от района
3) количество и тип парковок. Сколько машин можно запарковать и где.
Дополнительные характеристики, которые позволили добиться нужной точности: подвал, бассейн, камины, застекленные веранды и т.п. вещи. 
Без их учета модель получалась так же неплохой, но забраться в топ 50% не получалось.

Исходя из этого, модель получилась аддитивной. Т.е. мы должны сложить 3 составляющих стоимости дома, чтобы получить его суммарную стоимость.
При этом каждая микромодель получается скорее мультипликативной, тк мы площадь умножаем на коэффициенты, соответствующие различным факторам.
В этом главное неудобство задачи. Если бы мы решали задачу оценки стоимости квартиры, модель скорее всего была бы мультипликативной 
с небольшой аддитивной составляющей наличия парковки. И решалась бы много проще.

Все решение можно разделить на несколько классических блоков.
1) чтение данных
2) заполнение пропусков
3) фильтрацию выбросов (особенно непонятных объектов, совершенно непохожих на остальные)
4) нормировку входящих данных (площадей)
5) обработку категориальных переменных
6) генерацию предикторов
7) разделение обучающей выборки на трейн/тест для оценки качества работы модели
8) обучение модели
9) собственно оценку стоимости для объектов, цена продажи которых неизвестна.

Все решение уместилось в 1 файл - house_price_LR.py
Если бы решение нужно было ставить на бой, я бы оставил много меньше предикторов и аккуратнее проследил за весами модели - 
сейчас некоторые из них могут уводить стоимость участка в минус для особо неудачных районов. Это происходит скорее всего из-за слишком 
малой выборки (всего 1000 объектов). Модель получилась бы проще, компактнее и предсказуемее, но на ней в топ 50% не попадешь.

Если бы наоброт потребовалось улучшить результаты в соревновании, я бы использовал менее понятные модели (например бустинг), 
попробовал нагенерить парных фич, степеней, логарифмов и экспонент из всех площадей, полнее использовал бы входящие данные. Возможно
применил ансамбль из нескольких моделей.
